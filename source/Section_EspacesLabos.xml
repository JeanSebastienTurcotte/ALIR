<?xml version="1.0" encoding="UTF-8"?>

<!-- Ce fichier constitue une section du livre                              -->
<!--                                                                        -->
<!--      Algèbre linéaire : Intuition et rigueur                           -->
<!--                                                                        -->
<!-- Creative Commons Attribution Share Alike 4.0 International             -->
<!-- CC-BY-4.0                                                              -->
<!-- Jean-Sébastien Turcotte, Philémon Turcotte                             -->

<!-- Les sections sont divisées en quatre parties, en plus du titre. Les parties introduction et conclusion sont facultatives. Le texte de ceux-ci apparait respectivement avant et après les sections. Les exercices sont à la fin de la section -->

<section xmlns:xi="http://www.w3.org/2001/XInclude" xml:id="sec-espaceslabos">   <!-- Ajouter l'identifiant de la section après le - du xml:id -->
    <title> Activités et laboratoires </title>
    <!--<introduction xml:id= "intro-espaceslabos">-->  <!-- Ajouter le même identifiant de la section après le - du xml:id -->
    <p>Dans cette section, on regarde des activités et des laboratoires en lien avec des concepts présentés dans le chapitre.</p>
   <!-- </introduction>-->
    <project>
    <title>Le jeu "Lights out"</title>
    <introduction>
    <p>Le jeu "Lights out" est un jeu électronique sorti en 1995. Il consiste en une grille de taille <m>5\times 5</m> dans laquelle on retrouve de petites lumières qui peuvent soit être allumées ou éteintes. Lorsqu'on touche un élément de la grille, celui-ci ainsi que ses quatre voisins changent d'état, passant d'allumé à éteint ou d'éteint à allumer. Le but du jeu est, étant donnée une configuration initiale, d'éteindre toutes les lumières. Voici une image tirée de Wikipedia<fn>Image par Life of Riley, libre de droits, tirée de <url href="https://en.wikipedia.org/wiki/Lights_Out_(game)#/media/File:LightsOutIllustration.svg" visual="Wikipedia"/>.</fn> qui montre le fonctionnement.</p>
    <figure>
    <caption>Le jeu Lights out</caption>
    <image source="images/LightsOutIllustration">
    <description> Cinq grille de taille cinq de taille cinq par cinq sont illustrées. Les grilles sont de couleur vert foncé avec certains carrés plus brillant, simulant une lumière ouverte. Dans celle à l'extrémité gauche, il n'y a que le carré au coin supérieur gauche qui est en position ouvert. Une flèche amenant à la seconde grille dans laquelle on voit une main appuyé sur le carré inférieur droit. Dans la troisième grille, les trois carrés formant un L inversé dans le coin inférieur droit sont maintenant allumés. La quatrième grille voit une main appuyer sur le carré dans la quatrième ligne et quatrième colonne. Celui-ci passe de éteint à allumé dans la cinquième grille tout comme celui à sa gauche et au-dessus. Les carrés à sa droite et en dessous eux passent d'allumés à éteints.</description>
    </image>
    </figure>
    <p>On considère dans un premier temps une version simplifiée du jeu où la grille est de taille <m>3\times 3</m>. On peut représenter une grille de jeu par une matrice où les entrées sont <m>1</m> si la lumière est allumée et <m>0</m> si la lumière est éteinte. La figure <xref ref="fig-lightsout3x3-1"/> illustre un exemple associé à la matrice
    <men xml:id="eq-lightsoutmatL1">
    L_1=\begin{pmatrix}
    1&amp;0&amp;1\\
    0&amp;1&amp;0\\
    0&amp;1&amp;0
    \end{pmatrix}
    </men>.</p>
    <figure xml:id="fig-lightsout3x3-1">
    <caption>Un exemple <m>3\times 3</m></caption>
    <image source="images/lightsout3x3-1">
    <description>
    Une grille de taille trois par trois est illustrée avec les carrés colorées en vert. Les carrés en position un,un; un,trois; deux,deux et trois,deux sont d'un vert plus brillant, signifiant qu'ils sont allumés. Les autres carrés sont d'un vert plus terne, signifiant qu'ils sont éteints.
    </description>
    </image>
    </figure>
    <p>Pour le cas <m>3\times 3</m>, il s'avère qu'il existe une solution peu importe la configuration initiale. L'image interactive ci-dessous permet de jouer avec une configuration aléatoire et montre aussi la solution optimale dans chaque cas.</p>
    <figure xml:id="fig-lightsout3x3interactive">
    <caption>Lights out en version interactive <m>3\times 3</m></caption>
 <interactive aspect="1:1" platform="geogebra" width="100%"
        xml:id="geog-lightsout3x3interactive">
          <slate aspect="1:1" source="code/geogebra/LightsOut.ggb"
          surface="geogebra" xml:id="slate-lightsout3x3interactive">
              setCoordSystem(-6,10,-8,8); 
          </slate>
          <instructions>
            <p>Cliquer sur Nouvelle Version pour obtenir une grille à résoudre. Cliquer ensuite sur les différents carrés afin de changer l'état de ceux-ci et de ses voisins. Pour afficher la solution, cliquer sur le bouton du même nom. On peut ensuite revenir à une grille résolue en cliquant sur Réinitialiser.</p>
          </instructions>
        </interactive>
    </figure>
    </introduction>
    <task>
    <statement><p>L'espace dans lequel on travaillera pour résoudre ce problème est l'espace des matrices dont les entrées ne sont que des <m>0</m> ou des <m>1</m>. On définit sur les nombres <m>\{0,1\}</m> les opérations suivantes:
    <md>
    <mrow>0\oplus 0&amp;=0</mrow>
    <mrow>1\oplus 0&amp;=1</mrow>
    <mrow>0\oplus 1&amp;=1</mrow>
    <mrow>1\oplus 1&amp;=0</mrow>    </md>
    et pour <m>r\neq 1</m>, on définit <m>r\otimes 1=0</m> et <m>r\otimes 0=0</m> alors que pour <m>r=1</m>, on définit <m>r\otimes 1=1</m> et toujours <m>r\otimes 0=0</m>.</p>
    <p>Montrer que l'ensemble des nombres <m>\{0,1\}</m> muni de ces opérations est un espace vectoriel.</p>
    <p>Ceci entraine que l'espace des matrices muni de l'addition entrée par entrée avec ces opérations est aussi un espace vectoriel.</p></statement></task>
    <task><introduction><p>Sur Sage, il est possible de travailler avec l'addition définie plus haut. Cela correspond à travailler en modulo <m>2</m>. Pour cela, on ajoute un argument <c>GF(2)</c> dans la définition des matrices et des vecteurs, stipulant à Sage qu'on ne travaille qu'avec les nombres <m>0</m> et <m>1</m>. Sage connait déjà les règles arithmétiques de cet espace.</p>
    <sage>
    <input>
    L1=matrix(GF(2),[[1,0,1],[0,1,0],[0,1,0]]) #La matrice de l'exemple
    
    </input>
    </sage>
    </introduction>
    <task><statement><p>On peut associer à chaque case une matrice donnant son effet lorsqu'on clique sur la case. L'effet d'un clic revient donc à additionner à une matrice représentant une grille de Lights Out la matrice du clic, selon les règles de l'addition définies plus haut. Par exemple, un clic sur la case en position <m>(2,2)</m> correspond à la matrice
    <me>
    C_{2\,1}=\begin{pmatrix}
    1&amp;0&amp;0\\
    1&amp;1&amp;0\\
    1&amp;0&amp;0
    \end{pmatrix}
    </me>. Son effet sur la grille de la figure <xref ref="fig-lightsout3x3-1"/> peut donc être obtenu en ajoutant à la matrice <m>L_1</m> la matrice <m>C_{2\,2}</m> (suivant les règles d'additions définies plus haut):
    <me>
    \begin{pmatrix}
    1&amp;0&amp;1\\
    0&amp;1&amp;0\\
    0&amp;1&amp;0
    \end{pmatrix}+\begin{pmatrix}
    1&amp;0&amp;0\\
    1&amp;1&amp;0\\
    1&amp;0&amp;0
    \end{pmatrix}=\begin{pmatrix}
    0&amp;0&amp;1\\
    1&amp;0&amp;0\\
    1&amp;1&amp;0
    \end{pmatrix}
    </me>. Le résultat est illustré ci-dessous.</p>
    <figure xml:id="fig-lightsout3x3-2">
    <caption>L'exemple <m>3\times 3</m> après un clic</caption>
    <image source="images/lightsout3x3-2">
    <description>
    Une grille de taille trois par trois est illustrée avec les carrés colorées en vert. Les carrés en position un,trois; deux,un; trois,un et trois,deux sont d'un vert plus brillant, signifiant qu'ils sont allumés. Les autres carrés sont d'un vert plus terne, signifiant qu'ils sont éteints.
    </description>
    </image>
    </figure>
    <p>Sur Sage:</p>
    <sage>
    <input>
    C21=matrix(GF(2),[[1,0,0],[1,1,0],[1,0,0]])
    show(L1+C21)
    </input>
    </sage>
    <p>Définir les neuf matrices de clic.</p>
    <sage>
    <input>
    C11=
    C12=
    C13=
    C21=matrix(GF(2),[[1,0,0],[1,1,0],[1,0,0]])
    C22=
    C23=
    C31=
    C32=
    C33=
    </input>
    </sage>
    </statement></task>
    <task><statement><p>Vérifier que
    <men xml:id="eq-lightsoutsol3x3-1">
    L_1+C_{1\,1}+C_{1\,3}+C_{3\,1}+C_{3\,2}+C_{3\,3}=O
    </men> et est donc une solution à la grille de la figure <xref ref="fig-lightsout3x3-2"/>.</p>
    <sage>
    <input>
    
    </input>
    </sage>
    </statement></task>
    <task><statement><p>Justifier le fait que l'ordre dans lequel on clique les carrés d'une solution n'est pas important.</p></statement></task>
    <task><statement><p>Montrer que chaque matrice est son propre inverse dans cet espace.</p></statement></task>
    </task>
    <task><introduction>
    <p>On s'intéresse maintenant à l'obtention d'une solution pour une configuration de départ spécifique <m>L</m>. On cherche une suite de matrice <m>C_k\in\{C_{1\,1},C_{2\,2},\ldots , C_{3\,3}\} </m> telles que
    <me>
    L+C_1+C_2+\cdots C_n=O
    </me>.
    Puisque chaque matrice est son propre inverse, on peut réécrire l'équation sous la forme
    <me>
    C_1+C_2+\cdots C_n=L
    </me>.
    </p></introduction>
    <task><statement><p>Expliquer pourquoi, dans une solution optimale (nombre minimal de clic), chaque matrice apparait au plus une fois.</p></statement></task>
    <task><statement><p>En vertu de l'exercice précédent, on peut alors dire que pour avoir une solution, il faut que la matrice <m>L</m> soit dans le <m>\vspan</m> des matrices <m>\{C_{1\,1},C_{2\,2},\ldots , C_{3\,3}\}</m>, c'est-à-dire
    <men xml:id="eq-lightsout3x3">
    x_1C_{1\,1}+x_2C_{2\,2}+\ldots + x_9C_{3\,3}=L
    </men>,
    avec les <m>x_k\in\{0,1\}</m>. Comme l'espace des matrices de taille <m>3\times 3</m> est de dimension <m>9</m> et qu'une base de cette espace est donnée par les neuf matrices qui ne contiennent qu'une entrée non nulle égale à <m>1</m> (voir l'exemple <xref ref="ex-espacesetdimension"/>), on peut écrire l'équation <xref ref="eq-lightsout3x3"/> sous la forme matricielle
    <me>
    \begin{pmatrix}
1 &amp; 1 &amp; 0 &amp; 1 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 \\
1 &amp; 1 &amp; 1 &amp; 0 &amp; 1 &amp; 0 &amp; 0 &amp; 0 &amp; 0 \\
0 &amp; 1 &amp; 1 &amp; 0 &amp; 0 &amp; 1 &amp; 0 &amp; 0 &amp; 0 \\
1 &amp; 0 &amp; 0 &amp; 1 &amp; 1 &amp; 0 &amp; 1 &amp; 0 &amp; 0 \\
0 &amp; 1 &amp; 0 &amp; 1 &amp; 1 &amp; 1 &amp; 0 &amp; 1 &amp; 0 \\
0 &amp; 0 &amp; 1 &amp; 0 &amp; 1 &amp; 1 &amp; 0 &amp; 0 &amp; 1 \\
0 &amp; 0 &amp; 0 &amp; 1 &amp; 0 &amp; 0 &amp; 1 &amp; 1 &amp; 0 \\
0 &amp; 0 &amp; 0 &amp; 0 &amp; 1 &amp; 0 &amp; 1 &amp; 1 &amp; 1 \\
0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 1 &amp; 0 &amp; 1 &amp; 1
    \end{pmatrix}\begin{pmatrix} x_1\\ x_2\\ x_3\\ x_4\\ x_5\\ x_6 \\ x_7\\ x_8\\ x_9\\ \end{pmatrix}=L_{\text{vec}}
    </me> où <m>L_{\text{vec}}</m> correspond à l'écriture vectorielle de la matrice <m>L</m> dans la base des matrices ne contenant qu'un seul <m>1</m>. La représentation vectorielle de la matrice <m>L_1</m> l'équation <xref ref="eq-lightsoutmatL1"/> est donnée par <m>L_{1\,\text{vec}}=(1,0,1,0,1,0,0,1,0)</m>. On considère donc que la base ordonnée de cet espace est
    <me>
    \left\langle \begin{pmatrix}1&amp;0&amp;0\\ 0&amp; 0&amp; 0 \\ 0&amp; 0&amp; 0\end{pmatrix},\begin{pmatrix}0&amp;1&amp;0\\ 0&amp; 0&amp; 0 \\ 0&amp; 0&amp; 0\end{pmatrix},\begin{pmatrix}0&amp;0&amp;1\\ 0&amp; 0&amp; 0 \\ 0&amp; 0&amp; 0\end{pmatrix}\begin{pmatrix}0&amp;0&amp;0\\ 1&amp; 0&amp; 0 \\ 0&amp; 0&amp; 0\end{pmatrix},\begin{pmatrix}0&amp;0&amp;0\\ 0&amp; 1&amp; 0 \\ 0&amp; 0&amp; 0\end{pmatrix},\begin{pmatrix}0&amp;0&amp;0\\ 0&amp; 0&amp; 1 \\ 0&amp; 0&amp; 0\end{pmatrix},\begin{pmatrix}0&amp;0&amp;0\\ 0&amp; 0&amp; 0 \\ 1&amp; 0&amp; 0\end{pmatrix},\begin{pmatrix}0&amp;0&amp;0\\ 0&amp; 0&amp; 0 \\ 0&amp; 1&amp; 0\end{pmatrix},\begin{pmatrix}0&amp;0&amp;0\\ 0&amp; 0&amp; 0 \\ 0&amp; 0&amp; 1\end{pmatrix}\right \rangle_{\mathcal{B}}
    </me>.
    La première colonne de cette matrice vient donc du fait que 
    <md>
    <mrow>x_1C_{1\, 1}&amp;=x_1\left(\begin{pmatrix}1&amp;0&amp;0\\ 0&amp; 0&amp; 0 \\ 0&amp; 0&amp; 0\end{pmatrix}+\begin{pmatrix}0&amp;0&amp;1\\ 0&amp; 0&amp; 0 \\ 0&amp; 0&amp; 0\end{pmatrix}+\begin{pmatrix}0&amp;0&amp;0\\ 1&amp; 0&amp; 0 \\ 0&amp; 0&amp; 0\end{pmatrix}\right)</mrow>
    <mrow>&amp;=(1,1,0,1,0,0,0,0,0)_{\mathcal{B}}</mrow>
    </md>. 
    </p>
    <p>Montrer que la solution pour la matrice <m>L_1</m> est bel et bien celle donnée à l'équation <xref ref="eq-lightsoutsol3x3-1"/> en résolvant ce système d'équations.</p>
    <sage>
    <input>
    
    </input>
    </sage>
    </statement></task>
    <task><introduction><p>Les questions suivantes s'intéresse au nombre de solutions et à l'existence de solutions pour la grille <m>3\times 3</m>.</p></introduction>
    <task><statement><p>Montrer que la solution est unique.</p>
    <sage><input></input></sage></statement></task>
    <task><statement><p>Est-ce que toute configuration initiale possède une solution?</p></statement></task>
    </task></task>
    <task><introduction><p>On explore maintenant quelques variantes. </p></introduction>
        <task><introduction><p>La première est de considérer tout simplement la grille carrée de taille <m>5\times 5</m>.</p></introduction>
            <task><statement><p>Montrer que la configuration de départ où seulement la case au coin supérieur gauche est allumée ne possède pas de solutions.</p>
            <sage><input></input></sage></statement></task>
            <task><statement><p>Montrer que la grille où toutes les cases sont initialement allumées possèdent plusieurs solutions et donner l'une de celles-ci.</p><sage><input></input></sage></statement></task>
        </task>
        <task><introduction><p>Rien n'empêche la grille d'être carrée, on pourrait avoir une grille rectangulaire.</p></introduction>
        <task><statement><p>Il existe <m>64</m> configuations initiales pour une grille de taille <m>3\times 2</m>. Combien possèdent une solution?</p></statement></task>
        <task><statement><p>Déterminer si possible une solution pour la grille suivante: </p>
        <figure xml:id="fig-Lightsout4x3">
        <caption>Une grille de Lights Out de taille <m>4\times 3</m></caption>
        <image source="images/Lightsout4x3">
        <description>Une grille de taille quatre par trois est illustrée. Les carrés sur la premières lignes sont allumés, ceux sur la deuxième ligne de même que celui sur en position trois;deux sont éteints et les autres sont également allumés. </description>
        </image>
        </figure>
        </statement></task>
        </task>
    </task>
    <task><statement><p>Explorer une autre variante, existante ou inventée. Répondre aux questions suivantes:
    <ul>
    <li><p>Est-ce qu'il y a toujours une solution peu importe la configuration initiale?</p></li>
    <li><p>S'il y en a une, donner une solution pour une grille complètement allumée et sinon, montrer qu'il n'y en a pas.</p></li>
    </ul>
    </p>
    <p>
    Voici quelques inspirations:
    <ol>
    <li><p>Un jeu où il y a trois états pour une case, par exemple rouge, vert et éteint. Un clic change la case et ses voisins selon l'ordre rouge à vert, vert à éteint et éteint à rouge. Considérer une grille <m>5\times 5</m> et partir de l'état où tout est rouge.</p></li>
    <li><p>Un jeu où les bords sont reliés, chaque clic affecte cinq cellules. Donc la cellule dans le coin supérieur gauche change aussi l'état de la cellule dans le coin supérieur droit et dans le coin inférieur gauche. Considérer une grille <m>5\times 5</m>.</p></li>
    <li><p>Un jeu où chaque clic affecte la ligne entière et la colonne entière. Considérer une grille <m>5\times 5</m>.</p></li>
    </ol></p>
    <p>Dans le cas d'une variante inventée, bien clarifier les règles du jeu.</p>
    </statement></task>
    </project>
</section>
