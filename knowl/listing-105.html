<!DOCTYPE html>
<html lang="fr-CA" dir="ltr">
<!--********************************************-->
<!--*       Generated from PreTeXt source      *-->
<!--*                                          *-->
<!--*         https://pretextbook.org          *-->
<!--*                                          *-->
<!--********************************************-->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="robots" content="noindex, nofollow">
</head>
<body class="ignore-math">
<figure class="listing figure-like"><div class="code-box" style="width: 100%; margin-left: 0%; margin-right: 0%;"><pre class="program"><code class="language-py">def transition_serpech(d,n): #Retourne la matrice de transition selon un vecteur de déplacement d et un dé à n faces
    cols=[]
    for case in range(len(d)): #On crée les colonnes de la matrice
        col=vector(QQ,[0 for i in range(len(d))]) #On initialise la colonne au vecteur nul. À noter qu'on spécifie QQ pour que Sage accepte les rationnels
        if case==len(d)-1: #Si l'on est à l'arrivée
            col[-1]=1
            cols.append(col)
            break
        valide=0 #On compte combien de lancers de dés sont valides, au sens où ils ne dépassent pas l'arrivée
        for poss in range(1,n+1): #On peut avancer de 1,2,...,n
            if case+poss&lt;=len(d)-1:  #Si le déplacement est valide
                valide+=1
        for poss in range(1,valide+1):  #Pour les déplacements valides
            col[d[case+poss]]+=1/valide  #On ajoute 1/valide aux chances de se retrouver à cette position. Il est important de l'ajouter et de ne pas remplacer, au cas où, lors d'un même tour, on peut atteindre une case à la fois par un lancer de dé et par un serpent ou une échelle.
        cols.append(col)  #On ajoute la colonne à la liste des colonnes
    T=column_matrix(cols) #La matrice de transition
    return T
</code></pre></div>
<figcaption><span class="type">Bloc de code</span><span class="space"> </span><span class="codenumber">7.1.24<span class="period">.</span></span><span class="space"> </span>Le code de la solution.</figcaption></figure><span class="incontext"><a href="sec-Markov.html#listing-105" class="internal">Contexte</a></span>
</body>
</html>
